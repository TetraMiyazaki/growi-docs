# GROWI お引越し機能

## 概要

GROWI から別の GROWI へ簡単にデータの移行ができる機能です。

### はじめに

以下の条件を満たしていることが必要です。

- 移行先と移行元の両 GROWI のバージョンが一致している
- **v6 以上であり、同一のバージョン**である
- 環境変数: `USER_UPPER_LIMIT` を設定している場合
  - 移行先の USER_UPPER_LIMIT に 移行元の USER_UPPER_LIMIT よりも大きな値を設定している

## 移行フロー

1. 移行先の GROWI で認証に使用するための移行キーを発行します。
1. 移行元の GROWI の管理画面で移行キーをコピペし、移行開始ボタン押下します。

## 移行先の操作フロー

### 移行キーの発行

- 移行先の GROWI はインストールの有無関係なく、移行キーが発行できます。
  - インストールしている場合は、管理画面から移行キーを発行します。

![g2g-1](/assets/images/g2g-transfer-1.png)

- インストールしていない場合は、インストーラー画面から移行キーを発行します。

![g2g-2](/assets/images/g2g-transfer-2.png)

### 移行キーの期限

- 発行した移行キーの有効期限はは発行から1時間です。
- 一度移行に利用した移行キーは、再利用できません。

## 移行元の操作フロー

### 移行キーの入力と移行ボタンの押下

- 移行先で発行した移行キーを、移行元の管理画面へ入力し、移行開始ボタンを押すと移行を開始します。

![g2g-3](/assets/images/g2g-transfer-3.png)


### 移行するコレクション、高度なオプションを選択する

- 詳細オプションボタンをクリックすると移行するコレクションとコレクションごとの詳細な設定が可能です。
- デフォルトはすべてのコレクションを移行し、移行元と移行先のデータベースの中身が同じになります。
- 重複するデータが存在していた場合、**移行元** のデータを尊重して上書きします。ただし、Config だけは `Flush and insert` されます。

![g2g-4](/assets/images/g2g-transfer-4.png)










